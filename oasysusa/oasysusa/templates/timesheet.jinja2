{% extends "templates/layout.jinja2" %}

{% block title %}
    Timesheet
{% endblock %}

{% block css %}
    <style>
        body {
            padding-top: 80px;
        }
    </style>
{% endblock %}

{% block body %}
    {#    {{ projectform(request)|safe }}#}
    {#    <select name="Projects">#}
    {#        {% for project in projects %}#}
    {#            <option  value="{{ project.name }} by {{ project.client }}">{{ project.name }} by {{ project.client }}</option>#}
    {#        {% endfor %}#}
    {#    </select>#}
    <main>
        <div class="form-group">
            {{ prev_renderer.begin(request.route_url('current_day', direction='prev'), class="span4 pull-left") }}
            {{ prev_renderer.csrf_token() }}
            {{ prev_renderer.submit('submit', '<< Previous', class="btn btn-inverse") }}
            {{ prev_renderer.end() }}
            {{ next_renderer.begin(request.route_url('current_day', direction='next'), class="span4 pull-right") }}
            {{ next_renderer.csrf_token() }}
            {{ next_renderer.submit('submit', 'Next >>', class="btn btn-inverse") }}
            {{ next_renderer.end() }}
        </div>
        {{ jump_to_date_renderer.begin(request.route_url('current_day', direction='new_date'), class="form-inline timesheet-form") }}
        {{ jump_to_date_renderer.csrf_token() }}
        {{ jump_to_date_renderer.label("Current Day",  class="sr-only") }}
        {{ jump_to_date_renderer.text("new_date", placeholder="01/01/0001", size=20 , required="required", form_input="form_input", class="form-control") }}
        {{ jump_to_date_renderer.submit('submit', 'Go', class="btn btn-inverse") }}
        {{ jump_to_date_renderer.end() }}
        <hr>
        {{ renderer.begin(request.route_url('timesheet'), name="timesheet-form", class="form-inline timesheet-form") }}
        <h2 class="form-base-heading">Timesheet</h2>
        <fieldset>
            <legend>{{ TUTILS.format_date(monday) }} to {{ TUTILS.format_date(sunday) }}</legend>
            {{ renderer.csrf_token() }}
            {{ renderer.select("project", projects, selected_value=None, id="project", class="form-control") }}
            <div class="form-group">
                {{ renderer.label("Monday",  class="sr-only") }}
                {{ renderer.label("Hours", class="span1 pull-right") }}
                {{ renderer.errorlist("Hours1") }}
                {{ renderer.text("Hours1", placeholder="8.0", required="required", form_input="form_input", class="form-control") }}
                {{ renderer.hidden_tag("Day1") }}
            </div>
            <div class="form-group">
                {{ renderer.label("Tuesday",  class="sr-only") }}
                {{ renderer.label("Hours", class="span1 pull-right") }}
                {{ renderer.errorlist("Hours2") }}
                {{ renderer.text("Hours2", placeholder="8.0", required="required", form_input="form_input", class="form-control") }}
                {{ renderer.hidden_tag("Day2") }}
            </div>
            <div class="form-group">
                {{ renderer.label("Wednesday",  class="sr-only") }}
                {{ renderer.label("Hours", class="span1 pull-right") }}
                {{ renderer.errorlist("Hours3") }}
                {{ renderer.text("Hours3", placeholder="8.0", required="required", form_input="form_input", class="form-control") }}
                {{ renderer.hidden_tag("Day3") }}
            </div>
            <div class="form-group">
                {{ renderer.label("Thursday",  class="sr-only") }}
                {{ renderer.label("Hours", class="span1 pull-right") }}
                {{ renderer.errorlist("Hours4") }}
                {{ renderer.text("Hours4", placeholder="8.0", required="required", form_input="form_input", class="form-control") }}
                {{ renderer.hidden_tag("Day4") }}
            </div>
            <div class="form-group">
                {{ renderer.label("Friday",  class="sr-only") }}
                {{ renderer.label("Hours", class="span1 pull-right") }}
                {{ renderer.errorlist("Hours5") }}
                {{ renderer.text("Hours5", placeholder="8.0", required="required", form_input="form_input", class="form-control") }}
                {{ renderer.hidden_tag("Day5") }}
            </div>
            <div class="form-group">
                {{ renderer.label("Saturday",  class="sr-only") }}
                {{ renderer.label("Hours", class="span1 pull-right") }}
                {{ renderer.errorlist("Hours6") }}
                {{ renderer.text("Hours6", placeholder="8.0", required="required", form_input="form_input", class="form-control") }}
                {{ renderer.hidden_tag("Day6") }}
            </div>
            <div class="form-group">
                {{ renderer.label("Sunday",  class="sr-only") }}
                {{ renderer.label("Hours", class="span1 pull-right") }}
                {{ renderer.errorlist("Hours7") }}
                {{ renderer.text("Hours7", placeholder="8.0", required="required", form_input="form_input", class="form-control") }}
                {{ renderer.hidden_tag("Day7") }}
            </div>
            <hr>
            <div class="form-group">
                {{ renderer.label("Description",  class="sr-only") }}
                {{ renderer.errorlist("description") }}
                {{ renderer.textarea("description", placeholder="description", class="form-control", rows="4", cols="50",
                                                    required="required", form_input="form_input", class="form-control") }}
            </div>
            <hr>
        </fieldset>
        <button id="clear" class="btn btn-large">Clear</button>
        {{ renderer.submit('submit', 'Save', class="btn btn-large btn-primary") }}
        {{ renderer.end() }}
    </main>
{% endblock %}

{% block page_js %}
    {% if cljs_debug %}
        {#        <script src="{{ request.static_url('oasysusa:static/js/repl.js') }}"></script>#}
        {#        <script src="{{ request.static_url('oasysusa:static/js/project-dev.js') }}"></script>#}
    {% else %}
        {#        <script src="{{ request.static_url('oasysusa:static/js/project.js') }}"></script>#}
    {% endif %}
{% endblock %}
