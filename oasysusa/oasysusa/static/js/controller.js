goog.provide('oasysusa.profile');
goog.require('cljs.core');
goog.require('clojure.browser.net');
oasysusa.profile.profile_state = cljs.core.atom.call(null,cljs.core.PersistentArrayMap.EMPTY);
oasysusa.profile.xhr = clojure.browser.net.xhr_connection.call(null);
oasysusa.profile.ajax_json = (function ajax_json(url,verb,callback){return oasysusa.profile.xhr.send(url,verb,callback);
});
oasysusa.profile.update = (function update(user){return cljs.core.swap_BANG_.call(null,oasysusa.profile.profile_state,user);
});
oasysusa.profile.reset = (function reset(){return cljs.core.swap_BANG_.call(null,oasysusa.profile.profile_state,cljs.core.PersistentArrayMap.EMPTY);
});
oasysusa.profile.is_unchanged = (function is_unchanged(user){return cljs.core._EQ_.call(null,cljs.core.deref.call(null,oasysusa.profile.profile_state),user);
});
oasysusa.profile.get_profile = (function get_profile(reply){var v = cljs.core.js__GT_clj.call(null,reply.target.getResponseJson());return cljs.core.swap_BANG_.call(null,oasysusa.profile.profile_state,v);
});
oasysusa.profile.ajax_json.call(null,"/employee","GET","",oasysusa.profile.get_profile);
oasysusa.profile.controller = (function controller($scope,$http){($scope["update"] = oasysusa.profile.update);
($scope["reset "] = oasysusa.profile.reset);
($scope["isUnchanged"] = oasysusa.profile.is_unchanged);
return oasysusa.profile.reset.call(null);
});
goog.exportSymbol('oasysusa.profile.controller', oasysusa.profile.controller);
(oasysusa.profile.controller["$inject"] = ["$scope"]);
